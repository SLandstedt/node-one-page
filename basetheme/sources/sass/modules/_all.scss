@import "modules/_math.scss";
@import "modules/_hsv_to_hsl.scss";
@import "modules/_contrast.scss";

// FUNCTIONS

// Changes the value/brightness attribute of a color. Works on the B-value in Photoshop's HSB-colors.
@function lighten_hsv($h, $s: 0, $v: 0, $lighten: 0) {
  @if type_of($h) == 'color' {
    $h: color_to_hsv($h);
  }
  @if type_of($h) == 'list' {
    $lighten: $s;
    $v: nth($h, 3);
    $s: nth($h, 2);
    $h: nth($h, 1);
  }
  @return $h, $s, max(0%, min(100%, $v + $lighten));
}
@function saturate_hsv($h, $s: 0, $v: 0, $saturation: 0) {
  @if type_of($h) == 'color' {
    $h: color_to_hsv($h);
  }
  @if type_of($h) == 'list' {
    $saturation: $s;
    $v: nth($h, 3);
    $s: nth($h, 2);
    $h: nth($h, 1);
  }
  @return $h, max(0%, min(100%, $s + $saturation)), $v;
}

// MIXINS

@mixin button-color-helper($color) {
  $shadow-color: hsv_to_color(lighten_hsv($color, 0 - 10));

  box-shadow: 0 4px $shadow-color;
  background-color: $color;
  &:after {
    background: $shadow-color;
  }
}
@mixin button-color($color) {
  @include button-color-helper($color);

  // Will at least give a warning when the contrast is too low
  color: pick_best_color($color, (#fff, #000), 8);
  &:hover {
    @include button-color-helper(hsv_to_color(lighten_hsv($color, 10)));
  }
}
@mixin transition($transition) {
  -webkit-transition: $transition;
  -moz-transition: $transition;
  -ms-transition: $transition;
  -o-transition: $transition;
  transition: $transition;
}
